---
phase: 07-visual-effects-foundation
plan: 03
type: execute
wave: 2
depends_on: ["07-01"]
files_modified:
  - src/components/effects/HeroImage.tsx
  - src/components/effects/index.ts
autonomous: true

must_haves:
  truths:
    - "User sees edge-to-edge hero images on all viewport sizes"
    - "User sees properly sized images (responsive srcset)"
    - "User on slow connections sees placeholder until image loads"
  artifacts:
    - path: "src/components/effects/HeroImage.tsx"
      provides: "Full-bleed responsive hero image"
      exports: ["HeroImage"]
      min_lines: 40
    - path: "src/components/effects/index.ts"
      provides: "Effects barrel export"
      exports: ["VideoBackground", "HeroImage"]
  key_links:
    - from: "src/components/effects/HeroImage.tsx"
      to: "src/components/layout/Bleed.tsx"
      via: "uses Bleed for breakout"
      pattern: "Bleed"
---

<objective>
Create a HeroImage component that renders full-bleed responsive images with proper loading states and srcset support.

Purpose: Provide reusable full-width hero images that work within contained layouts using the Bleed component.
Output: HeroImage component with responsive images, lazy loading, and placeholder support.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-visual-effects-foundation/07-RESEARCH.md
@.planning/phases/07-visual-effects-foundation/07-01-SUMMARY.md
@src/components/layout/Bleed.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create HeroImage component</name>
  <files>
    - src/components/effects/HeroImage.tsx
  </files>
  <action>
1. Create `src/components/effects/HeroImage.tsx`:

Props interface:
```typescript
interface HeroImageProps {
  /** Primary image source */
  src: string;
  /** Alt text for accessibility */
  alt: string;
  /** Optional srcset for responsive images */
  srcSet?: string;
  /** Optional sizes attribute for responsive images */
  sizes?: string;
  /** Height variant: 'half' (50vh), 'full' (100vh), 'auto' */
  height?: 'half' | 'full' | 'auto';
  /** Loading strategy: 'lazy' or 'eager' */
  loading?: 'lazy' | 'eager';
  /** Object fit: 'cover' (default), 'contain' */
  objectFit?: 'cover' | 'contain';
  /** Object position (e.g., 'center', 'top', 'bottom') */
  objectPosition?: string;
  /** Additional CSS classes */
  className?: string;
  /** Optional overlay for text readability */
  overlayOpacity?: number;
}
```

Implementation:
- Import Bleed from '@/components/layout'
- Import cn from '@/lib/utils'
- Use Bleed wrapper for full-width breakout
- Apply height classes based on height prop:
  - 'half': h-[50vh] md:h-[70vh]
  - 'full': h-dvh (dynamic viewport height for mobile)
  - 'auto': h-auto
- img element uses: w-full h-full object-{objectFit}
- Add optional overlay div when overlayOpacity > 0
- Use loading="lazy" by default for performance

Pattern:
```typescript
import { Bleed } from '@/components/layout';
import { cn } from '@/lib/utils';

const heightClasses = {
  half: 'h-[50vh] md:h-[70vh]',
  full: 'h-dvh',
  auto: 'h-auto',
} as const;

export const HeroImage: React.FC<HeroImageProps> = ({
  src,
  alt,
  srcSet,
  sizes,
  height = 'half',
  loading = 'lazy',
  objectFit = 'cover',
  objectPosition = 'center',
  className,
  overlayOpacity = 0,
}) => {
  return (
    <Bleed className={cn('relative', heightClasses[height], className)}>
      <img
        src={src}
        alt={alt}
        srcSet={srcSet}
        sizes={sizes}
        loading={loading}
        className={cn(
          'h-full w-full',
          objectFit === 'cover' ? 'object-cover' : 'object-contain'
        )}
        style={{ objectPosition }}
      />
      {overlayOpacity > 0 && (
        <div
          className="absolute inset-0 bg-black"
          style={{ opacity: overlayOpacity }}
          aria-hidden="true"
        />
      )}
    </Bleed>
  );
};

export default HeroImage;
export type { HeroImageProps };
```
  </action>
  <verify>
    - `npx tsc --noEmit src/components/effects/HeroImage.tsx` compiles without errors
    - File exists at src/components/effects/HeroImage.tsx
  </verify>
  <done>HeroImage component exists with responsive and height variants</done>
</task>

<task type="auto">
  <name>Task 2: Update effects barrel export</name>
  <files>
    - src/components/effects/index.ts
  </files>
  <action>
1. Update `src/components/effects/index.ts` to include HeroImage:
```typescript
export { VideoBackground } from './VideoBackground';
export type { VideoBackgroundProps } from './VideoBackground';

export { HeroImage } from './HeroImage';
export type { HeroImageProps } from './HeroImage';
```

2. Verify build passes:
   - Run `npm run build`
   - Ensure no TypeScript errors
  </action>
  <verify>
    - `npm run build` completes without errors
    - Both VideoBackground and HeroImage are exported from effects index
  </verify>
  <done>Effects module exports both VideoBackground and HeroImage</done>
</task>

</tasks>

<verification>
1. Run `npm run build` - should complete without errors
2. Verify HeroImage is importable from '@/components/effects'
3. Component uses Bleed for full-width rendering
</verification>

<success_criteria>
- HeroImage component uses Bleed for full-width breakout
- Component supports half, full, and auto height variants
- Component supports responsive srcSet and sizes
- Uses lazy loading by default
- Build passes with no TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/07-visual-effects-foundation/07-03-SUMMARY.md`
</output>
