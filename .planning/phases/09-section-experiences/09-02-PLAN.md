---
phase: 09-section-experiences
plan: 02
type: execute
wave: 2
depends_on: ["09-01"]
files_modified:
  - src/pages/Home.tsx
  - public/images/home-poster.jpg
autonomous: true

must_haves:
  truths:
    - "Home hero has dramatic kinetic headline"
    - "Posts use staggered reveal animation"
    - "Video background is tier-aware (poster on mobile/low-power)"
    - "Layout uses Container and Stack primitives"
  artifacts:
    - path: "src/pages/Home.tsx"
      provides: "Enhanced Home page with distinct personality"
      contains: "KineticText"
    - path: "public/images/home-poster.jpg"
      provides: "Poster fallback for VideoBackground"
  key_links:
    - from: "src/pages/Home.tsx"
      to: "@/components/effects/VideoBackground"
      via: "component import"
      pattern: "import.*VideoBackground.*from"
    - from: "src/pages/Home.tsx"
      to: "@/lib/motion"
      via: "heroVariants import"
      pattern: "import.*heroVariants.*from"
---

<objective>
Transform Home page into a bold, confident entrance experience with dramatic KineticText headline and staggered post reveals.

Purpose: Home is the first impression - it should feel dramatic, intentional, and set the tone for the entire site.
Output: Enhanced Home.tsx using VideoBackground, KineticText, heroVariants, Container, Stack, and stagger animations.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-section-experiences/09-RESEARCH.md
@src/pages/Home.tsx
@src/components/effects/VideoBackground.tsx
@src/components/KineticText.tsx
@src/components/layout/Container.tsx
@src/components/layout/Stack.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extract poster frame from video and add to public/images</name>
  <files>public/images/home-poster.jpg</files>
  <action>
Extract a poster frame from the home video for mobile/low-power fallback.

Option A (if ffmpeg available):
```bash
ffmpeg -i src/videos/home_canvas.webm -vframes 1 -q:v 2 public/images/home-poster.jpg
```

Option B (if ffmpeg not available):
Use an existing dark/branded image from the project, or create a solid dark gradient placeholder. The poster should be a dark image that matches the video's aesthetic.

Ensure the image:
- Is at least 1920x1080 for quality
- Is compressed to reasonable size (~100-200KB)
- Captures the visual character of the video
  </action>
  <verify>File exists at public/images/home-poster.jpg and is a valid image</verify>
  <done>Poster image ready for VideoBackground component</done>
</task>

<task type="auto">
  <name>Task 2: Enhance Home.tsx with VideoBackground, KineticText, and layout primitives</name>
  <files>src/pages/Home.tsx</files>
  <action>
Refactor Home.tsx:

1. **Replace inline video** with VideoBackground component:
```tsx
import { VideoBackground } from '@/components/effects';
import homePoster from '/images/home-poster.jpg'; // public folder path

<VideoBackground
  src={homeCanvasVideo}
  poster={homePoster}
  overlayOpacity={0.3}
/>
```
Remove the inline `<video>` element and `isWebMSupported()` check.

2. **Replace h1 with KineticText**:
```tsx
import { KineticText } from '@/components/KineticText';

<RevealOnScroll>
  <KineticText as="h1" splitBy="chars" variant="dramatic">
    Latest Posts
  </KineticText>
</RevealOnScroll>
```

3. **Use heroVariants instead of pageVariants**:
```tsx
import { motion, heroVariants, heroStaggerContainer, staggerItem } from '@/lib/motion';

<motion.div
  className="..."
  data-section="hero"
  variants={heroVariants}
  initial="initial"
  animate="enter"
  exit="exit"
>
```

4. **Wrap content with Container and Stack**:
```tsx
import { Container } from '@/components/layout/Container';
import { Stack } from '@/components/layout/Stack';

<Container size="sm" padding="md">
  <Stack gap="lg">
    {/* content */}
  </Stack>
</Container>
```

5. **Add stagger animation to posts**:
```tsx
<motion.div
  variants={heroStaggerContainer}
  initial="initial"
  animate="enter"
>
  {posts.slice(0, visibleCount).map((post) => (
    <motion.div key={post.id} variants={staggerItem}>
      <PostCard post={post} />
    </motion.div>
  ))}
</motion.div>
```
Remove individual RevealOnScroll wrappers from posts since stagger handles the animation.

6. **Remove CSS Module import** if no longer needed, or keep only for specific styles that aren't converted yet.

7. **Keep existing functionality**:
- Loading state with Spinner
- visibleCount and Load More button
- IntersectionObserver for auto-load
- Back to Top button with useLenisScrollTo
  </action>
  <verify>
1. `npm run ts:check:types` passes
2. `npm run build` succeeds
3. Manual verification: Page renders with kinetic headline and staggered posts
  </verify>
  <done>
- VideoBackground replaces inline video
- KineticText animates "Latest Posts" headline
- heroVariants applied for page transitions
- Posts stagger on enter
- Layout uses Container/Stack
  </done>
</task>

</tasks>

<verification>
- [ ] Home page uses VideoBackground component (not inline video)
- [ ] Poster image exists and is used as fallback
- [ ] KineticText animates the headline
- [ ] heroVariants used for page transition (not generic pageVariants)
- [ ] Posts appear with stagger animation
- [ ] Container/Stack provide layout structure
- [ ] Existing functionality preserved (load more, back to top, etc.)
- [ ] TypeScript compiles
- [ ] Build succeeds
</verification>

<success_criteria>
Home page feels dramatically different from before - the headline animates character-by-character, posts stagger in with personality, and the video background gracefully degrades on mobile to a static poster. The page feels bold and intentional.
</success_criteria>

<output>
After completion, create `.planning/phases/09-section-experiences/09-02-SUMMARY.md`
</output>
