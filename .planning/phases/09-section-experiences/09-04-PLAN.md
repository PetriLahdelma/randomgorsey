---
phase: 09-section-experiences
plan: 04
type: execute
wave: 2
depends_on: ["09-01"]
files_modified:
  - src/pages/Listen.tsx
  - public/images/listen-poster.jpg
autonomous: true

must_haves:
  truths:
    - "Listen page feels immersive and moody"
    - "Content reveals slowly and deliberately"
    - "Music embeds are focal points"
    - "Video background degrades gracefully to poster"
  artifacts:
    - path: "src/pages/Listen.tsx"
      provides: "Enhanced Listen page with immersive, music-focused personality"
      contains: "listenVariants"
    - path: "public/images/listen-poster.jpg"
      provides: "Poster fallback for VideoBackground"
  key_links:
    - from: "src/pages/Listen.tsx"
      to: "@/components/effects/VideoBackground"
      via: "component import"
      pattern: "import.*VideoBackground.*from"
    - from: "src/pages/Listen.tsx"
      to: "@/lib/motion"
      via: "listenVariants import"
      pattern: "import.*listenVariants.*from"
---

<objective>
Transform Listen page into an immersive, moody experience with slow deliberate reveals that let the music be the star.

Purpose: Listen should feel like stepping into a listening room - dark, focused, unhurried. The music players are the content; everything else supports them.
Output: Enhanced Listen.tsx using VideoBackground, listenVariants, RevealOnScroll with slow timing, and Container/Stack layout.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-section-experiences/09-RESEARCH.md
@src/pages/Listen.tsx
@src/components/effects/VideoBackground.tsx
@src/components/RevealOnScroll.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extract poster frame from listen video</name>
  <files>public/images/listen-poster.jpg</files>
  <action>
Extract a poster frame from the listen video for mobile/low-power fallback.

Option A (if ffmpeg available):
```bash
ffmpeg -i src/videos/rg-glitch-bg.webm -vframes 1 -q:v 2 public/images/listen-poster.jpg
```

Option B (fallback):
Create or use a dark, moody image. Listen's section tokens use a purple moody palette, so poster should be dark/atmospheric.

Requirements:
- At least 1920x1080
- Compressed to ~100-200KB
- Dark/moody aesthetic matching the glitch video
  </action>
  <verify>File exists at public/images/listen-poster.jpg</verify>
  <done>Poster image ready for Listen VideoBackground</done>
</task>

<task type="auto">
  <name>Task 2: Enhance Listen.tsx with VideoBackground, listenVariants, and RevealOnScroll</name>
  <files>src/pages/Listen.tsx</files>
  <action>
Refactor Listen.tsx:

1. **Replace inline video** with VideoBackground:
```tsx
import { VideoBackground } from '@/components/effects';

<VideoBackground
  src={glitchBgVideo}
  poster="/images/listen-poster.jpg"
  overlayOpacity={0.4}  // Darker overlay for immersive mood
/>
```
Remove inline `<video>` and `isWebMSupported()` check.

2. **Use listenVariants for page transition**:
```tsx
import { motion, listenVariants } from '@/lib/motion';

<motion.div
  className={styles['listen-container']}
  data-section="listen"
  variants={listenVariants}
  initial="initial"
  animate="enter"
  exit="exit"
>
```

3. **Add RevealOnScroll** (Listen is currently missing it!):
```tsx
import RevealOnScroll from '../components/RevealOnScroll';

// Wrap each content block
<RevealOnScroll>
  <KineticText as="h1" splitBy="words" variant="default" staggerDelay={0.05}>
    Listen to Music
  </KineticText>
</RevealOnScroll>

<RevealOnScroll>
  <Text className={styles['listen-description']}>
    Enjoy curated playlists and latest tracks.
  </Text>
</RevealOnScroll>

<RevealOnScroll>
  {/* Spotify iframe */}
</RevealOnScroll>

<RevealOnScroll>
  {/* SoundCloud iframe */}
</RevealOnScroll>
```

4. **Add KineticText for headline**:
```tsx
import { KineticText } from '@/components/KineticText';

<KineticText
  as="h1"
  splitBy="words"
  variant="default"
  staggerDelay={0.05}  // Slower stagger for moody feel
>
  Listen to Music
</KineticText>
```

5. **Use Container and Stack for layout**:
```tsx
import { Container } from '@/components/layout/Container';
import { Stack } from '@/components/layout/Stack';

<Container size="md" padding="md">
  <Stack gap="xl">
    {/* Heading */}
    {/* Description */}
    {/* Spotify embed */}
    {/* SoundCloud embed */}
    {/* Attribution */}
  </Stack>
</Container>
```

6. **Clean up inline styles** on SoundCloud attribution:
Replace inline styles with Tailwind classes:
```tsx
<div className="text-xs text-white/60 font-light truncate">
  <a
    href="https://soundcloud.com/randomgorsey"
    target="_blank"
    rel="noreferrer"
    className="text-white/60 hover:text-white/80 no-underline"
  >
    Random Gorsey
  </a>
  {' Â· '}
  <a
    href="https://soundcloud.com/randomgorsey/sets/tuunz"
    target="_blank"
    rel="noreferrer"
    className="text-white/60 hover:text-white/80 no-underline"
  >
    Tuunz
  </a>
</div>
```

7. **Keep existing functionality**:
- Loading state with Spinner
- Spotify iframe embed
- SoundCloud iframe embed
  </action>
  <verify>
1. `npm run ts:check:types` passes
2. `npm run build` succeeds
3. Manual verification: Listen page has slow reveals, feels moody/immersive
  </verify>
  <done>
- VideoBackground replaces inline video
- listenVariants used for slow page transition
- RevealOnScroll added (was missing!)
- KineticText animates headline
- Container/Stack provide layout
- Inline styles replaced with Tailwind
  </done>
</task>

</tasks>

<verification>
- [ ] Listen uses VideoBackground (not inline video)
- [ ] Poster exists and is used as fallback
- [ ] listenVariants applied (slow, deliberate transition)
- [ ] RevealOnScroll wraps content blocks (was missing before)
- [ ] KineticText animates headline
- [ ] Container/Stack provide layout
- [ ] Inline styles converted to Tailwind
- [ ] Music embeds still functional
- [ ] TypeScript compiles
- [ ] Build succeeds
</verification>

<success_criteria>
Listen page feels distinctly different - slower, moodier, more immersive. Content reveals deliberately rather than all at once. The music players are clearly the focal points with supporting content fading into atmosphere. The dark overlay creates a listening room ambiance.
</success_criteria>

<output>
After completion, create `.planning/phases/09-section-experiences/09-04-SUMMARY.md`
</output>
