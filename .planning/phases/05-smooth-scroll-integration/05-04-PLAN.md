---
phase: 05-smooth-scroll-integration
plan: 04
type: execute
wave: 2
depends_on: ["05-02"]
files_modified:
  - src/pages/Home.tsx
  - src/pages/About.tsx
  - src/pages/Gallery.tsx
  - src/components/PostCard.tsx
autonomous: true

must_haves:
  truths:
    - "User sees post cards animate in as they scroll down Home page"
    - "User sees About sections reveal as they scroll"
    - "User sees gallery images reveal as they scroll"
    - "User with reduced-motion sees content appear without transform animations"
  artifacts:
    - path: "src/pages/Home.tsx"
      provides: "PostCard items with scroll-triggered reveals"
      contains: "RevealOnScroll"
    - path: "src/pages/About.tsx"
      provides: "Content sections with scroll-triggered reveals"
      contains: "RevealOnScroll"
    - path: "src/pages/Gallery.tsx"
      provides: "Gallery images with scroll-triggered reveals"
      contains: "RevealOnScroll"
  key_links:
    - from: "src/pages/Home.tsx"
      to: "src/components/RevealOnScroll.tsx"
      via: "import RevealOnScroll"
      pattern: "RevealOnScroll"
    - from: "src/pages/About.tsx"
      to: "src/components/RevealOnScroll.tsx"
      via: "import RevealOnScroll"
      pattern: "RevealOnScroll"
---

<objective>
Apply reveal animations to page content sections

Purpose: Content reveals as user scrolls, creating engaging scroll experience
Output: Home, About, and Gallery pages use RevealOnScroll for key content
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-smooth-scroll-integration/05-RESEARCH.md
@.planning/phases/05-smooth-scroll-integration/05-02-SUMMARY.md
@src/components/RevealOnScroll.tsx
@src/pages/Home.tsx
@src/pages/About.tsx
@src/pages/Gallery.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add reveal animations to Home page posts</name>
  <files>src/pages/Home.tsx</files>
  <action>
Wrap each PostCard in a RevealOnScroll component so posts reveal as user scrolls.

Import RevealOnScroll:
```tsx
import RevealOnScroll from '../components/RevealOnScroll';
```

Update the posts mapping to wrap each PostCard:
```tsx
{posts.slice(0, visibleCount).map((post) => (
  <RevealOnScroll key={post.id}>
    <PostCard post={post} />
  </RevealOnScroll>
))}
```

Also wrap the "Latest Posts" heading:
```tsx
<RevealOnScroll>
  <h1>Latest Posts</h1>
</RevealOnScroll>
```

And the Back to Top section:
```tsx
<RevealOnScroll>
  <div className={styles["back-to-top"]}>
    ...
  </div>
</RevealOnScroll>
```

Note: The outer motion.div with pageVariants handles the initial page enter animation. RevealOnScroll is for content that may be below the fold.
  </action>
  <verify>`npm run build` succeeds</verify>
  <done>Home page posts and sections have scroll-triggered reveal animations</done>
</task>

<task type="auto">
  <name>Task 2: Add reveal animations to About page sections</name>
  <files>src/pages/About.tsx</files>
  <action>
Add RevealOnScroll to About page content sections.

Import RevealOnScroll:
```tsx
import RevealOnScroll from '../components/RevealOnScroll';
```

Wrap distinct content sections:

1. The heading:
```tsx
<RevealOnScroll>
  <h1>About</h1>
</RevealOnScroll>
```

2. The portrait figure:
```tsx
<RevealOnScroll>
  <figure>
    {/* existing portrait code */}
  </figure>
</RevealOnScroll>
```

3. The main description paragraph:
```tsx
<RevealOnScroll>
  <p className={styles['about-description']}>
    {/* existing text */}
  </p>
</RevealOnScroll>
```

4. The Side Projects section:
```tsx
<RevealOnScroll>
  <h2>Side projects</h2>
  <p className={styles['about-description']}>
    Random Gorsey is also involved in several side projects, including:
  </p>
</RevealOnScroll>
```

5. Each side project card:
```tsx
<ul>
  <RevealOnScroll>
    <li className={styles.card} onClick={...}>
      {/* Petri Lahdelma card */}
    </li>
  </RevealOnScroll>
  <RevealOnScroll>
    <li className={styles.card} onClick={...}>
      {/* DJ Pizza Hut card */}
    </li>
  </RevealOnScroll>
</ul>
```

Keep each reveal unit semantically meaningful - don't wrap individual words or tiny elements.
  </action>
  <verify>`npm run build` succeeds</verify>
  <done>About page sections have scroll-triggered reveal animations</done>
</task>

<task type="auto">
  <name>Task 3: Add reveal animations to Gallery page images</name>
  <files>src/pages/Gallery.tsx</files>
  <action>
Add RevealOnScroll to Gallery heading and each image container.

Import RevealOnScroll:
```tsx
import RevealOnScroll from '../components/RevealOnScroll';
```

Wrap the heading:
```tsx
<RevealOnScroll>
  <h1>Gallery</h1>
</RevealOnScroll>
```

Wrap each image container in the map:
```tsx
{images.map((image, index) => (
  <RevealOnScroll key={index}>
    <div>
      <img
        loading="lazy"
        src={image.src}
        alt={image.caption}
        title={image.caption}
        style={{ width: '100%', borderRadius: '8px', marginTop: '1rem' }}
        onClick={() => openOverlay(index)}
        onLoad={index === 0 ? handleContentLoad : undefined}
      />
      <Caption>{image.caption}</Caption>
    </div>
  </RevealOnScroll>
))}
```

Note: Move the `key` prop to RevealOnScroll since it's now the outermost mapped element.

This creates a nice staggered reveal effect as user scrolls through the gallery. The `once: true` default prevents re-animation when scrolling back up.
  </action>
  <verify>`npm run build` succeeds</verify>
  <done>Gallery page images have scroll-triggered reveal animations</done>
</task>

</tasks>

<verification>
1. `npm run build` - Production build succeeds
2. `npm run ts:check:types` - No TypeScript errors
3. Manual test: Scroll down Home page, posts reveal as they enter viewport
4. Manual test: Scroll down About page, sections reveal progressively
5. Manual test: Scroll down Gallery page, images reveal as they enter viewport
6. Manual test: Enable reduced motion, content fades in without y-transform
</verification>

<success_criteria>
- Home page posts animate in on scroll
- About page sections animate in on scroll
- Gallery images animate in on scroll
- Reduced-motion users get fade-only reveals
- No TypeScript or build errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-smooth-scroll-integration/05-04-SUMMARY.md`
</output>
