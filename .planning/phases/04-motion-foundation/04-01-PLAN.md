---
phase: 04-motion-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/motion/config.ts
  - src/lib/motion/variants.ts
  - src/lib/motion/index.ts
autonomous: true

must_haves:
  truths:
    - "Developer can import spring presets from @/lib/motion"
    - "Developer can import duration presets from @/lib/motion"
    - "Developer can import reusable animation variants from @/lib/motion"
    - "All motion constants are type-safe with TypeScript"
  artifacts:
    - path: "src/lib/motion/config.ts"
      provides: "Spring physics, duration, and easing constants"
      exports: ["springs", "durations", "eases", "SpringPreset", "DurationPreset", "EasePreset"]
    - path: "src/lib/motion/variants.ts"
      provides: "Reusable Framer Motion variant objects"
      exports: ["pageVariants", "fadeVariants", "staggerContainer", "staggerItem", "overlayVariants", "modalVariants"]
    - path: "src/lib/motion/index.ts"
      provides: "Public API barrel export"
      min_lines: 15
  key_links:
    - from: "src/lib/motion/variants.ts"
      to: "src/lib/motion/config.ts"
      via: "import { springs, durations }"
      pattern: "import.*springs.*from.*config"
---

<objective>
Create the centralized motion configuration module with spring physics, durations, and reusable animation variants.

Purpose: Establish single source of truth for all animation timing and physics, eliminating duplicated inline configs across 8+ files.
Output: src/lib/motion/ directory with config.ts (constants), variants.ts (animation patterns), and index.ts (exports).
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-motion-foundation/04-RESEARCH.md

Key research findings:
- 8 files use identical inline animation configs: `{ initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, transition: { duration: 0.4 } }`
- Spring presets: snappy (buttons), default (UI), gentle (reveals), bouncy (delight), page (transitions), dramatic (hero)
- Duration presets: instant (0), fast (0.15), normal (0.3), slow (0.5), slower (0.7)
- Variants needed: pageVariants, fadeVariants, staggerContainer, staggerItem, overlayVariants, modalVariants
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create motion configuration constants</name>
  <files>src/lib/motion/config.ts</files>
  <action>
Create `src/lib/motion/config.ts` with:

1. **Spring presets** (as const object):
   - `snappy`: { stiffness: 400, damping: 30, mass: 1 } - buttons, toggles
   - `default`: { stiffness: 100, damping: 15, mass: 1 } - standard UI
   - `gentle`: { stiffness: 50, damping: 15, mass: 1 } - content reveals
   - `bouncy`: { stiffness: 300, damping: 10, mass: 1 } - rare delight moments
   - `page`: { stiffness: 80, damping: 20, mass: 1 } - page transitions
   - `dramatic`: { stiffness: 60, damping: 12, mass: 2 } - hero elements

2. **Duration presets** (seconds):
   - `instant`: 0
   - `fast`: 0.15
   - `normal`: 0.3
   - `slow`: 0.5
   - `slower`: 0.7

3. **Easing presets** (cubic-bezier arrays):
   - `default`: [0.4, 0, 0.2, 1] - Material Design standard
   - `in`: [0.4, 0, 1, 1]
   - `out`: [0, 0, 0.2, 1]
   - `inOut`: [0.4, 0, 0.2, 1]

4. **Type exports**: SpringPreset, DurationPreset, EasePreset

Use `as const` for type inference. Add JSDoc comments explaining when to use each preset.
  </action>
  <verify>File exists with correct exports: `grep -E "export (const|type)" src/lib/motion/config.ts`</verify>
  <done>config.ts exports springs, durations, eases objects and corresponding type aliases</done>
</task>

<task type="auto">
  <name>Task 2: Create reusable animation variants</name>
  <files>src/lib/motion/variants.ts</files>
  <action>
Create `src/lib/motion/variants.ts` with Framer Motion Variants objects:

1. **Import** springs and durations from ./config

2. **pageVariants** (for page-level animations):
   - initial: { opacity: 0, y: 20 }
   - enter: { opacity: 1, y: 0, transition: { type: 'spring', ...springs.page } }
   - exit: { opacity: 0, y: -10, transition: { duration: durations.fast } }

3. **fadeVariants** (reduced-motion safe, opacity only):
   - initial: { opacity: 0 }
   - enter: { opacity: 1, transition: { duration: durations.normal } }
   - exit: { opacity: 0, transition: { duration: durations.fast } }

4. **staggerContainer** (for parent of staggered lists):
   - initial: {}
   - enter: { transition: { staggerChildren: 0.08, delayChildren: 0.1 } }
   - exit: { transition: { staggerChildren: 0.05, staggerDirection: -1 } }

5. **staggerItem** (for children in staggered lists):
   - initial: { opacity: 0, y: 20 }
   - enter: { opacity: 1, y: 0, transition: { type: 'spring', ...springs.default } }
   - exit: { opacity: 0, y: -10 }

6. **overlayVariants** (for modal/dialog backdrops):
   - initial: { opacity: 0 }
   - enter: { opacity: 1, transition: { duration: durations.fast } }
   - exit: { opacity: 0, transition: { duration: durations.fast } }

7. **modalVariants** (for modal content boxes):
   - initial: { opacity: 0, scale: 0.95 }
   - enter: { opacity: 1, scale: 1, transition: { type: 'spring', ...springs.snappy } }
   - exit: { opacity: 0, scale: 0.95, transition: { duration: durations.fast } }

Import `Variants` type from 'framer-motion' for type annotation.
  </action>
  <verify>File exists with variants: `grep -E "export const.*Variants" src/lib/motion/variants.ts`</verify>
  <done>variants.ts exports all variant objects with proper typing</done>
</task>

<task type="auto">
  <name>Task 3: Create barrel export index</name>
  <files>src/lib/motion/index.ts</files>
  <action>
Create `src/lib/motion/index.ts` as public API:

1. **Re-export configuration**:
   ```typescript
   export { springs, durations, eases } from './config';
   export type { SpringPreset, DurationPreset, EasePreset } from './config';
   ```

2. **Re-export variants**:
   ```typescript
   export {
     pageVariants,
     fadeVariants,
     staggerContainer,
     staggerItem,
     overlayVariants,
     modalVariants,
   } from './variants';
   ```

3. **Re-export commonly used Framer Motion utilities** (convenience):
   ```typescript
   export {
     motion,
     AnimatePresence,
     useReducedMotion,
     useAnimation,
     useInView,
   } from 'framer-motion';
   ```

Add a file-level JSDoc comment explaining this is the motion system public API.
  </action>
  <verify>TypeScript compiles: `npx tsc --noEmit src/lib/motion/index.ts 2>&1 | head -5`</verify>
  <done>index.ts provides single import point for all motion utilities</done>
</task>

</tasks>

<verification>
1. Directory structure: `ls -la src/lib/motion/`
2. TypeScript compilation: `npm run build 2>&1 | grep -i error || echo "Build passed"`
3. Imports work: Create test import `import { springs, pageVariants, motion } from '@/lib/motion'`
</verification>

<success_criteria>
- src/lib/motion/ directory exists with config.ts, variants.ts, index.ts
- All files compile without TypeScript errors
- Constants match research specifications (spring values, duration values)
- Variants use imported config values (not hardcoded duplicates)
</success_criteria>

<output>
After completion, create `.planning/phases/04-motion-foundation/04-01-SUMMARY.md`
</output>
